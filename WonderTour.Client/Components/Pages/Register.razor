@page "/register"
@inject ILogger<Register> Logger

<PageTitle>Register</PageTitle>

<h1>Đăng Ký Tài Khoản</h1>

<EditForm Model="@Model" OnValidSubmit="@Submit" FormName="Register">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div>
        <label>
            Name:
            <InputText @bind-Value="Model!.Name" />
        </label>
    </div>
    <div>
        <label>
            Email:
            <InputText @bind-Value="Model!.Email" />
        </label>
    </div>
    <div>
        <label>
            Password:
            <InputText @bind-Value="Model!.Password" />
        </label>
    </div>
    <div>
        <label>
            ConfirmPassword:
            <InputText @bind-Value="Model!.ConfirmPassword" />
        </label>
    </div>
    <div>
        <button type="submit">Submit</button>
    </div>
</EditForm>

@code {
    [SupplyParameterFromForm]
    private RegistrationDto Model { get; set; }

    protected override void OnInitialized()
    {
        Model ??= new();
    }

    private void Submit()
    {
        Logger.LogInformation($"Name: {Model.Name}, Email: {Model.Email}, Password: {Model.Password}, ConfirmPassword: {Model.ConfirmPassword}");
    }
}
